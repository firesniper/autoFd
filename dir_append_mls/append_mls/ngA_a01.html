<!DOCTYPE HTML>
<html>
<head>
<meta charset='utf-8' />
<meta http-equiv='cache-control' content='no-cache' />
<meta name='viewport' content='width=device-width, height=device-height, user-scalable=no, initial-scale=1.0 ,minimum-scale=1.0,maximum-scale=1.0' />
<script src= "js/append_mls.js" ></script>
<script src= "js/append_mls.config.js" ></script>

<script src= "js/angular-1.0.1.min.js" ></script>
</head>
<body ng-app= "">
    <anchor-a01 >

    </anchor-a01>
    <ez-clock></ez-clock>
</body>
<script type= "text/javascript">
    $http.get
    (
        'http://localhost:8080/mall_a01/malldata?scm=malldata&tbNamesStr=shoe,overcoat' , 
        config
    )
    .then
    (
        function ( data )
        {   
            console.log ( "data:" ,   ) ;
        } , 
        errorCallback
    ) ;
    var pgp_module = angular.module ( "moduleA01" , [] ) 
    console.log ( "pgp_module:" , pgp_module ) ;
    pgp_module.directive 
    ( 
        "anchorA01" ,
        function ()
        {
            return {
                restrict : "E" ,
                replace : true ,
                template : `<h1></h1>` ,
                link : function ( scope , ele , attr  )
                {
                    ele.text ( 1 ) ;
                }

            } ;
        }
    ) ;  
    // angular.module ( "moduleA01" , [] )//创建模块moduleA01
    pgp_module.directive
    (
        "ezClock" , 
        function ( )
        {//在模块上注册指令ezClock的类工厂
            return {
                restrict : "E",
                replace : true,
                template : "<div class='clock'></div>",
                link : function ( scope , element , attrs )
                {
                    setInterval 
                    ( 
                        function () 
                        {
                            //获取当前时间
                            var d = new Date();

                            //element对应引用该指令的DOM对象的jqLite封装
                            element.text ( d.toString () ) ;
                        } , 
                        1000 
                    ) ;
                }
            }
        }
    ) ;
    angular.element ( document ).ready
    (
        function () 
        {
            angular.bootstrap ( document , [ "moduleA01" ] ) ;
        }
    ) ;
</script>


</html>